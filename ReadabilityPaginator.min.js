/*
 * The MIT License (MIT)
 * Copyright (c) 2017-08-16 Steven Chandswang
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *
 *     * Redistributions of source code must retain the above copyright notice,
 *       this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above copyright notice,
 *       this list of conditions and the following disclaimer in the documentation
 *       and/or other materials provided with the distribution.
 *     * Neither the name of readability nor the names of its contributors
 *       may be used to endorse or promote products derived from this software
 *       without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @Author: Steven Chandswang
 * @Date:   2017-08-16
 * @Last Modified by:   Steve Chan
 * @Last Modified time: 2017-08-16
 */
function initScript(e){var t="("+paginator.toString()+")();",n=document.createElement("script")
n.type="text/javascript",n.appendChild(document.createTextNode(t)),e("body").append(n)}function initStyle(){var e=document.createElement("style")
e.type="text/css",e.appendChild(document.createTextNode("#pager_container{color:rgba(0,0,0,.87);background-color:#fff;transition:all 450ms cubic-bezier(.23,1,.32,1) 0s;box-sizing:border-box;box-shadow:rgba(0,0,0,.12) 0 1px 6px,rgba(0,0,0,.12) 0 1px 4px;border-radius:0;height:100%;overflow:hidden;position:absolute;padding:10px 10px 20px;left:50%;z-index:20}")),document.getElementsByTagName("head")[0].appendChild(e),jQuery(function(e){e("head").append('<link rel="stylesheet" href="https://use.fontawesome.com/releases/v4.6.3/css/font-awesome-css.min.css" media="all">'),e("head").append('<link href="https://cdn.jsdelivr.net/gh/blisszard/readability@development/pager.css" rel="stylesheet">'),e("head").append('<link href="https://gitcdn.link/repo/blisszard/readability/development/font_style.css" rel="stylesheet">')})}function loadScript(e,t){var n=document.createElement("script")
n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}console.clear()
var paginator=function(){jQuery(function(e){function t(){u=0,c=e(window).height(),s=e(window).width(),l=s-20,p=l-30,p=30,containerWidth=l+20,containerMarginLeft=-containerWidth/2,e("#pager_container").css({"margin-left":containerMarginLeft+"px",width:containerWidth+"px"}),e("#pages_5NPJADvYjZY").css({"-webkit-column-width":l+"px","-moz-column-width":l+"px","-webkit-column-gap":p+"px","-moz-column-gap":p+"px"}),d()}function n(e){if(null!=e.lastElementChild&&void 0!==e.childNodes){var t=e.lastElementChild
if(null!=t){e=n(t)}}return e}function i(){if(0==h){var t=n(e("#pages_5NPJADvYjZY")[0].lastElementChild),i=function(e){return e instanceof jQuery&&(e=e[0]),"#text"==e.nodeName&&(e=e.parentElement),e.getBoundingClientRect().left}(t)
h=Math.ceil(i/(l+p)),1==h&&(h=200)}}function o(){return u*(l+p)}function a(){if(i(),!(u+1>=h)){u++
d()}}function r(){u>0&&(u--,d())}function d(){var t=o()
return e("#pages_5NPJADvYjZY").css({right:t+"px"}),t}var c,s,l,p,u=0,h=0
e(document).ready(function(){t()}),e("#pager_container").on("touchend click",function(t){var n=e(window).width(),i=t.pageX
if(void 0===i){if(void 0===t.originalEvent||void 0===t.originalEvent.touches[0])return
i=t.originalEvent.touches[0].pageX,t.stopPropagation(),t.preventDefault()}i<=n/5?r():a()}),e(window).bind("keydown",function(e){37==e.keyCode?r():39==e.keyCode&&a()}),e(window).resize(function(){t()})})}
window.injectScript=function(e){var t=document.createElement("script")
t.type="text/javascript",t.src=e,document.getElementsByTagName("head")[0].appendChild(t)},window.injectJQ=function(){window.injectScript("https://use.fontawesome.com/webfontloader/1.6.24/webfontloader.js"),window.injectScript("https://use.fontawesome.com/bb7692e21a.js")},loadScript("https://cdn.jsdelivr.net/gh/blisszard/readability@development/Readability.min.js",function(){var e=document.location,t={spec:e.href,host:e.host,prePath:e.protocol+"//"+e.host,scheme:e.protocol.substr(0,e.protocol.indexOf(":")),pathBase:e.protocol+"//"+e.host+e.pathname.substr(0,e.pathname.lastIndexOf("/")+1)},n=new Readability(t,document).parse()
document.head.innerHTML='<meta charset="utf-8"><meta name="viewport" content="width=device-width" />',injectJQ(),loadScript("https://code.jquery.com/jquery-2.1.0.min.js",function(){jQuery(function(e){document.body.innerHTML='<div id="readability_article" style="display:none;">'+n.content+"</div>"
var t=e("#readability-page-1").html()
document.body.innerHTML='<div id="pager_container" style=""><div id="pages_5NPJADvYjZY" style="right: 0px; ">'+t+"</div></div>",e(".readability-styled").attr("style",""),initStyle(),initScript(e)})})})
